<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cox Model Prediction — cox.predict • bamlss</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Cox Model Prediction — cox.predict" />

<meta property="og:description" content="This function takes a fitted Cox model, i.e., a model estimated by cox.mode
  or cox.mcmc and computes predictions given a new data set or the
  original values. Survival probabilities are computed using numerical integration, therefore,
  computation may take some time. To avoid problems with computer memory, the prediction
  of survival probabilities can be split into chunks and computed parallel on different cores." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bamlss</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/bamlss.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/bivnorm.html">Bivariate Gaussian models for wind vectors</a>
    </li>
    <li>
      <a href="../articles/distregvis.html">Visualization with distreg.vis</a>
    </li>
    <li>
      <a href="../articles/families.html">BAMLSS Families</a>
    </li>
    <li>
      <a href="../articles/glm.html">Generalized Linear Models (+)</a>
    </li>
    <li>
      <a href="../articles/misc.html">Miscellaneous Topics</a>
    </li>
    <li>
      <a href="../articles/rent.html">Munich Rent Model</a>
    </li>
    <li>
      <a href="../articles/terms.html">Available Model Terms</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cox Model Prediction</h1>
    
    <div class="hidden name"><code>cox.predict.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function takes a fitted Cox model, i.e., a model estimated by <code><a href='cox.mode.html'>cox.mode</a></code>
  or <code><a href='cox.mcmc.html'>cox.mcmc</a></code> and computes predictions given a new data set or the
  original values. Survival probabilities are computed using numerical integration, therefore,
  computation may take some time. To avoid problems with computer memory, the prediction
  of survival probabilities can be split into chunks and computed parallel on different cores.</p>
    
    </div>

    <pre class="usage"><span class='fu'>cox.predict</span>(<span class='no'>object</span>, <span class='no'>newdata</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"link"</span>, <span class='st'>"parameter"</span>, <span class='st'>"probabilities"</span>),
  <span class='kw'>FUN</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>x</span>) { <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/mean'>mean</a></span>(<span class='no'>x</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) },
  <span class='kw'>time</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>subdivisions</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>chunks</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>A <code>"bamlss"</code> object as returned from function <code><a href='bamlss.html'>bamlss</a></code>
    using the optimizer <code><a href='cox.mode.html'>cox.mode</a></code> or sampler function <code><a href='cox.mcmc.html'>cox.mcmc</a></code>.</p></td>
    </tr>
    <tr>
      <th>newdata</th>
      <td><p>A data frame or list containing the values of the model
    covariates at which predictions are required. If missing <code>newdata</code> is the
    <code>model.frame</code> of the provided model.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Specifies the type of predictions that should be computed.</p></td>
    </tr>
    <tr>
      <th>FUN</th>
      <td><p>A function that should be applied on each row of the samples
    of the additive predictor, parameter or probabilities. Per default
    the function computes means of samples, however, other functions like <code><a href='https://www.rdocumentation.org/packages/stats/topics/quantile'>quantile</a></code>
    can be supplied.</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p><code>numeric</code>, specifies the time for which survival probabilities should
    be computed if <code>type = "probabilities"</code>. Note that this overwrites survival times
    that are supplied in argument <code>newdata</code>.</p></td>
    </tr>
    <tr>
      <th>subdivisions</th>
      <td><p>How many time points should be created for each individual.</p></td>
    </tr>
    <tr>
      <th>cores</th>
      <td><p>Specifies the number of cores that should be used for prediction. The problem is
    split into <code>core</code> chunks, each chunk is then processed by one core.</p></td>
    </tr>
    <tr>
      <th>chunks</th>
      <td><p>The number of chunks that should be processed sequentially on one core.
    This way memory problems can be avoided when computing survival times for large problems.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Print progress information.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Arguments passed to <code><a href='predict.bamlss.html'>predict.bamlss</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Depending on the type of function provided in argument <code>FUN</code>, a <code>numeric</code> vector
  or <code>matrix</code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='cox.mcmc.html'>cox.mcmc</a></code>, <code><a href='family.bamlss.html'>cox_bamlss</a></code>, <code><a href='surv.transform.html'>surv.transform</a></code>,
  <code><a href='simSurv.html'>simSurv</a></code>, <code><a href='bamlss.html'>bamlss</a></code>, <code><a href='predict.bamlss.html'>predict.bamlss</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"survival"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>123</span>)

<span class='co'>## Simulate survival data.</span>
<span class='no'>d</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simSurv.html'>simSurv</a></span>(<span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>500</span>)

<span class='co'>## Formula of the survival model, note</span>
<span class='co'>## that the baseline is given in the first formula by s(time).</span>
<span class='no'>f</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(
  <span class='fu'><a href='https://www.rdocumentation.org/packages/survival/topics/Surv'>Surv</a></span>(<span class='no'>time</span>, <span class='no'>event</span>) ~ <span class='fu'>s</span>(<span class='no'>time</span>) + <span class='fu'>s</span>(<span class='no'>time</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='no'>x3</span>),
  <span class='no'>gamma</span> ~ <span class='fu'>s</span>(<span class='no'>x1</span>) + <span class='fu'>s</span>(<span class='no'>x2</span>)
)

<span class='co'>## Cox model with continuous time.</span>
<span class='co'>## Note the the family object cox_bamlss() sets</span>
<span class='co'>## the default optimizer and sampler function!</span>
<span class='co'>## First, posterior mode estimates are computed</span>
<span class='co'>## using function cox.mode(), afterwards the</span>
<span class='co'>## sampler cox.mcmc() is started.</span>
<span class='no'>b</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='bamlss.html'>bamlss</a></span>(<span class='no'>f</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"cox"</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>d</span>)

<span class='co'>## Predict survival probabilities P(T &gt; t).</span>
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/predict'>predict</a></span>(<span class='no'>b</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"probabilities"</span>,
  <span class='kw'>time</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>subdivisions</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>FUN</span> <span class='kw'>=</span> <span class='no'>c95</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Nikolaus Umlauf, Nadja Klein, Achim Zeileis, Thorsten Simon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

