<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Boosting BAMLSS — boost • bamlss</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Boosting BAMLSS — boost" />

<meta property="og:description" content="Optimizer functions for gradient and likelihood boosting with bamlss. In each
  boosting iteration the function selects the model term with the largest contribution to the
  log-likelihood, AIC or BIC." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bamlss</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/bamlss.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/terms.html">Available Model Terms</a>
    </li>
    <li>
      <a href="../articles/glm.html">Generalized Linear Models (+)</a>
    </li>
    <li>
      <a href="../articles/families.html">Families</a>
    </li>
    <li>
      <a href="../articles/distregvis.html">Visualization with distreg.vis</a>
    </li>
    <li>
      <a href="../articles/rent.html">Munich Rent Example</a>
    </li>
    <li>
      <a href="../articles/engines.html">Estimation Engines</a>
    </li>
    <li>
      <a href="../articles/misc.html">Miscellaneous Topics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Publications
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/bivnorm.html">Bivariate Gaussian Models for Wind Vectors</a>
    </li>
    <li>
      <a href="../articles/lasso.html">LASSO-Type Penalization in the Framework of GAMLSS</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Boosting BAMLSS</h1>
    
    <div class="hidden name"><code>boost.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Optimizer functions for gradient and likelihood boosting with <code><a href='bamlss.html'>bamlss</a></code>. In each
  boosting iteration the function selects the model term with the largest contribution to the
  log-likelihood, AIC or BIC.</p>
    
    </div>

    <pre class="usage"><span class='co'>## Gradient boosting optimizer.</span>
<span class='fu'>boost</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='no'>family</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>offset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>nu</span> <span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='kw'>nu.adapt</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>df</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>maxit</span> <span class='kw'>=</span> <span class='fl'>400</span>,
  <span class='kw'>mstop</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>maxq</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>qsel.splitfactor</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>flush</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>eps</span> <span class='kw'>=</span> <span class='no'>.Machine</span>$<span class='no'>double.eps</span>^<span class='fl'>0.25</span>,
  <span class='kw'>nback</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>initialize</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>stop.criterion</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>select.type</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>force.stop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>hatmatrix</span> <span class='kw'>=</span> !<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/NULL'>is.null</a></span>(<span class='no'>stop.criterion</span>),
  <span class='kw'>reverse.edf</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>approx.edf</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>always</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'>## Modified likelihood based boosting.</span>
<span class='fu'>boostm</span>(<span class='no'>x</span>, <span class='no'>y</span>, <span class='no'>family</span>, <span class='kw'>offset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>nu</span> <span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='kw'>df</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>maxit</span> <span class='kw'>=</span> <span class='fl'>400</span>, <span class='kw'>mstop</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>flush</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>eps</span> <span class='kw'>=</span> <span class='no'>.Machine</span>$<span class='no'>double.eps</span>^<span class='fl'>0.25</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>initialize</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>stop.criterion</span> <span class='kw'>=</span> <span class='st'>"BIC"</span>,
  <span class='kw'>force.stop</span> <span class='kw'>=</span> !<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/NULL'>is.null</a></span>(<span class='no'>stop.criterion</span>),
  <span class='kw'>do.optim</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>always</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'>## Boosting summary extractor.</span>
<span class='fu'>boost.summary</span>(<span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'>## Plot all boosting paths.</span>
<span class='fu'>boost.plot</span>(<span class='no'>x</span>, <span class='kw'>which</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"loglik"</span>, <span class='st'>"loglik.contrib"</span>, <span class='st'>"parameters"</span>,
  <span class='st'>"aic"</span>, <span class='st'>"bic"</span>, <span class='st'>"user"</span>), <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>spar</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>mstop</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>color</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'>## Boosting summary printing and plotting.</span>
<span class='co'># S3 method for boost.summary</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='no'>x</span>, <span class='kw'>summary</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>which</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"loglik"</span>, <span class='st'>"loglik.contrib"</span>), <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>spar</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)
<span class='co'># S3 method for boost.summary</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'>## Model frame for out-of-sample selection.</span>
<span class='fu'>boost.frame</span>(<span class='no'>formula</span>, <span class='no'>train</span>, <span class='no'>test</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"gaussian"</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>For function <code>boost()</code> the <code>x</code> list, as returned from function
    <code><a href='bamlss.frame.html'>bamlss.frame</a></code>, holding all model matrices and other information that is used for
    fitting the model. For the plotting function the corresponding <code><a href='bamlss.html'>bamlss</a></code> object
    fitted with the <code>boost()</code> optimizer.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>The model response, as returned from function <code><a href='bamlss.frame.html'>bamlss.frame</a></code>.</p></td>
    </tr>
    <tr>
      <th>family</th>
      <td><p>A <span class="pkg">bamlss</span> family object, see <code><a href='family.bamlss.html'>family.bamlss</a></code>.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>Prior weights on the data, as returned from function <code><a href='bamlss.frame.html'>bamlss.frame</a></code>.</p></td>
    </tr>
    <tr>
      <th>offset</th>
      <td><p>Can be used to supply model offsets for use in fitting,
    returned from function <code><a href='bamlss.frame.html'>bamlss.frame</a></code>.</p></td>
    </tr>
    <tr>
      <th>nu</th>
      <td><p>Numeric, between [0, 1], controls the step size, i.e., the amount
    that should be added to model term parameters.</p></td>
    </tr>
    <tr>
      <th>nu.adapt</th>
      <td><p>Logical. If set to TRUE (default) step size <code>nu</code> is divided by 2,
    if current boosting iteration did not improve the loglikelihood.</p></td>
    </tr>
    <tr>
      <th>df</th>
      <td><p>Integer, defines the initial degrees of freedom that should be assigned
    to each smooth model term. May also be a named vector, the names must match the model term
    labels, e.g., as provided in <code><a href='summary.bamlss.html'>summary.bamlss</a></code>.</p></td>
    </tr>
    <tr>
      <th>maxit</th>
      <td><p>Integer, the maximum number of boosting iterations.</p></td>
    </tr>
    <tr>
      <th>mstop</th>
      <td><p>For convenience, overwrites <code>maxit</code>.</p></td>
    </tr>
    <tr>
      <th>maxq</th>
      <td><p>Integer, defines the maximum number of selected base-learners. The algorithm stops
    if this numer is exceeded.</p></td>
    </tr>
    <tr>
      <th>qsel.splitfactor</th>
      <td><p>Logical, if set to <code>TRUE</code> dummy variables of categorical predictors are counted individually.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>Character, the name of the coefficient (group) that should be plotted. Note that
    the string provided in <code>name</code> will be removed from the labels on the 4th axis.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>Character, the name of the coefficient (group) that should not be plotted.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>A character string of labels that should be used on the 4 axis.</p></td>
    </tr>
    <tr>
      <th>color</th>
      <td><p>Colors or color function that creates colors for the (group) paths.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Print information during runtime of the algorithm.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>Set the digits for printing when <code>verbose = TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>flush</th>
      <td><p>use <code><a href='https://www.rdocumentation.org/packages/utils/topics/flush.console'>flush.console</a></code> for displaying the current output in the console.</p></td>
    </tr>
    <tr>
      <th>eps</th>
      <td><p>The tolerance used as stopping mechanism, see argument <code>nback</code>.</p></td>
    </tr>
    <tr>
      <th>nback</th>
      <td><p>Integer. If <code>nback</code> is not <code>NULL</code>, then the algorithm stops if the
    the change in the log-likelihood of the last <code>nback</code> iterations is smaller or
    equal to <code>eps</code>. If <code>maxit = NULL</code> the maximum number of iterations is set to 10000.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>Should the boosting summary be printed and plotted?</p></td>
    </tr>
    <tr>
      <th>initialize</th>
      <td><p>Logical, should intercepts be initialized?</p></td>
    </tr>
    <tr>
      <th>stop.criterion</th>
      <td><p>Character, selects the information criterion that should be used
    to determine the optimum number of boosting iterations. Either <code>"AIC"</code> or <code>"BIC"</code>
    is possible. Note that this feature requires to compute hat-matrices for each distributional
    parameter, therefore, the routine may be slow and computer storage intensive.</p></td>
    </tr>
    <tr>
      <th>select.type</th>
      <td><p>Should model terms be selected by the log-likelihood contribution,
    <code>select.type = 1</code>, or by the corresponding <code>stop.criterion</code>, <code>select.type = 2</code>.</p></td>
    </tr>
    <tr>
      <th>force.stop</th>
      <td><p>Logical, should the algorithm stop if the information criterion increases?</p></td>
    </tr>
    <tr>
      <th>do.optim</th>
      <td><p>Logical. Should smoothing parameters be optimized in each boosting iteration?</p></td>
    </tr>
    <tr>
      <th>hatmatrix</th>
      <td><p>Logical, if set to <code>TRUE</code> the hat-matrices for each distributional parameter
    will be computed. The hat-matrices are used to determine the effective (equivalent) degrees of
    freedom in each boosting iteration, i.e., it is possible to compute information criteria
    like the AIC or BIC for selecting the optimum number of boosting iterations.</p></td>
    </tr>
    <tr>
      <th>reverse.edf</th>
      <td><p>Logical. Instead of computing degrees of freedom with hat-matrices, the actual
    smoothing parameters are reverse engineered to compute the corresponding actual smoother matrix.
    Note that this option is still experimental.</p></td>
    </tr>
    <tr>
      <th>approx.edf</th>
      <td><p>Logical. Another experimental and fast approximation of the degrees of freedom.</p></td>
    </tr>
    <tr>
      <th>always</th>
      <td><p>Logical or character. Should the intercepts forced to be updated in each boosting iteration?
    If <code>always = TRUE</code> each intercept of each distributional parameter is updated,
    if <code>always = "best"</code> only the intercept corresponding to the distributional of the best
    fitting model term is updated.</p></td>
    </tr>
    <tr>
      <th>object</th>
      <td><p>A <code><a href='bamlss.html'>bamlss</a></code> object that was fitted using <code>boost()</code>.</p></td>
    </tr>
    <tr>
      <th>summary</th>
      <td><p>Should the summary be printed?</p></td>
    </tr>
    <tr>
      <th>which</th>
      <td><p>Which of the three provided plots should be created?</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>Should the coefficient paths of intercepts be dropped in the plot?</p></td>
    </tr>
    <tr>
      <th>spar</th>
      <td><p>Should graphical parmeters be set with <code><a href='https://www.rdocumentation.org/packages/graphics/topics/par'>par</a></code>?</p></td>
    </tr>
    <tr>
      <th>formula</th>
      <td><p>See <code><a href='bamlss.frame.html'>bamlss.frame</a></code>.</p></td>
    </tr>
    <tr>
      <th>train, test</th>
      <td><p>Data frames used for training and testing the model..</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>For function <code>boost()</code>, arguments passed to <code><a href='bamlss.engine.setup.html'>bamlss.engine.setup</a></code>.
    for function <code>boost.summary()</code> arguments passed to function <code>print.boost.summary()</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For function <code>boost.summary()</code> a list containing information on selection frequencies etc.
  For function <code>boost()</code> and <code>boostm()</code> a list containing the following objects:</p>
<dt>fitted.values</dt><dd><p>A named list of the fitted values based on the last boosting iteration
    of the modeled parameters of the selected distribution.</p></dd>
  <dt>parameters</dt><dd><p>A matrix, each row corresponds to the parameter values of one boosting iteration.</p></dd>
  <dt>boost.summary</dt><dd><p>The boosting summary which can be printed and plotted.</p></dd>

    
    <h2 class="hasAnchor" id="warnings"><a class="anchor" href="#warnings"></a>WARNINGS</h2>

    <p>The function does not take care of variable scaling for the linear parts! This must be done by the
  user, e.g., one option is to use argument <code>scale.d</code> in function <code><a href='bamlss.frame.html'>bamlss.frame</a></code>,
  which uses <code><a href='https://www.rdocumentation.org/packages/base/topics/scale'>scale</a></code>.</p>
<p>Function <code>boost()</code> does not select the optimum stopping iteration! The modified likelihood
  based algorithm implemented in function <code>boostm()</code> is still experimental!</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='bamlss.frame.html'>bamlss.frame</a></code>, <code><a href='bamlss.html'>bamlss</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'>## Simulate data.</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>123</span>)
<span class='no'>d</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='GAMart.html'>GAMart</a></span>()

<span class='co'>## Estimate model.</span>
<span class='no'>f</span> <span class='kw'>&lt;-</span> <span class='no'>num</span> ~ <span class='no'>x1</span> + <span class='no'>x2</span> + <span class='no'>x3</span> + <span class='no'>lon</span> + <span class='no'>lat</span> +
  <span class='fu'>s</span>(<span class='no'>x1</span>) + <span class='fu'>s</span>(<span class='no'>x2</span>) + <span class='fu'>s</span>(<span class='no'>x3</span>) + <span class='fu'>s</span>(<span class='no'>lon</span>) + <span class='fu'>s</span>(<span class='no'>lat</span>) + <span class='fu'>te</span>(<span class='no'>lon</span>,<span class='no'>lat</span>)

<span class='no'>b</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='bamlss.html'>bamlss</a></span>(<span class='no'>f</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>d</span>, <span class='kw'>optimizer</span> <span class='kw'>=</span> <span class='no'>boost</span>,
  <span class='kw'>sampler</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>scale.d</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>nu</span> <span class='kw'>=</span> <span class='fl'>0.01</span>,
  <span class='kw'>maxit</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'>## Plot estimated effects.</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>b</span>)

<span class='co'>## Print and plot the boosting summary.</span>
<span class='fu'>boost.summary</span>(<span class='no'>b</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='fu'>boost.plot</span>(<span class='no'>b</span>, <span class='kw'>which</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='fu'>boost.plot</span>(<span class='no'>b</span>, <span class='kw'>which</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'>boost.plot</span>(<span class='no'>b</span>, <span class='kw'>which</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"mu.s.te(lon,lat)."</span>)

<span class='co'>## Extract estimated parameters for certain</span>
<span class='co'>## boosting iterations.</span>
<span class='fu'><a href='parameters.html'>parameters</a></span>(<span class='no'>b</span>, <span class='kw'>mstop</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='fu'><a href='parameters.html'>parameters</a></span>(<span class='no'>b</span>, <span class='kw'>mstop</span> <span class='kw'>=</span> <span class='fl'>100</span>)

<span class='co'>## Also works with predict().</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/do.call'>do.call</a></span>(<span class='st'>"cbind"</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/predict'>predict</a></span>(<span class='no'>b</span>, <span class='kw'>mstop</span> <span class='kw'>=</span> <span class='fl'>1</span>)))
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/do.call'>do.call</a></span>(<span class='st'>"cbind"</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/predict'>predict</a></span>(<span class='no'>b</span>, <span class='kw'>mstop</span> <span class='kw'>=</span> <span class='fl'>100</span>)))

<span class='co'>## Another example using the modified liklihood</span>
<span class='co'>## bootsing algorithm.</span>
<span class='no'>f</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(
  <span class='no'>num</span> ~ <span class='no'>x1</span> + <span class='no'>x2</span> + <span class='no'>x3</span> + <span class='no'>lon</span> + <span class='no'>lat</span> +
    <span class='fu'>s</span>(<span class='no'>x1</span>) + <span class='fu'>s</span>(<span class='no'>x2</span>) + <span class='fu'>s</span>(<span class='no'>x3</span>) + <span class='fu'>s</span>(<span class='no'>lon</span>) + <span class='fu'>s</span>(<span class='no'>lat</span>) + <span class='fu'>te</span>(<span class='no'>lon</span>,<span class='no'>lat</span>),
  <span class='no'>sigma</span> ~ <span class='no'>x1</span> + <span class='no'>x2</span> + <span class='no'>x3</span> + <span class='no'>lon</span> + <span class='no'>lat</span> +
    <span class='fu'>s</span>(<span class='no'>x1</span>) + <span class='fu'>s</span>(<span class='no'>x2</span>) + <span class='fu'>s</span>(<span class='no'>x3</span>) + <span class='fu'>s</span>(<span class='no'>lon</span>) + <span class='fu'>s</span>(<span class='no'>lat</span>) + <span class='fu'>te</span>(<span class='no'>lon</span>,<span class='no'>lat</span>)
)

<span class='no'>b</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='bamlss.html'>bamlss</a></span>(<span class='no'>f</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>d</span>, <span class='kw'>optimizer</span> <span class='kw'>=</span> <span class='no'>boostm</span>,
  <span class='kw'>sampler</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>scale.d</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>nu</span> <span class='kw'>=</span> <span class='fl'>0.05</span>,
  <span class='kw'>maxit</span> <span class='kw'>=</span> <span class='fl'>400</span>, <span class='kw'>stop.criterion</span> <span class='kw'>=</span> <span class='st'>"AIC"</span>, <span class='kw'>force.stop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'>## Plot estimated effects.</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>b</span>)

<span class='co'>## Plot AIC and log-lik contributions.</span>
<span class='fu'>boost.plot</span>(<span class='no'>b</span>, <span class='st'>"AIC"</span>)
<span class='fu'>boost.plot</span>(<span class='no'>b</span>, <span class='st'>"loglik.contrib"</span>)

<span class='co'>## Out-of-sample selection of model terms.</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>123</span>)
<span class='no'>d</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='GAMart.html'>GAMart</a></span>(<span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>5000</span>)

<span class='co'>## Split data into training and testing</span>
<span class='no'>i</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sample'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/nrow'>nrow</a></span>(<span class='no'>d</span>), <span class='kw'>replace</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>d.test</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='no'>d</span>, <span class='no'>i</span> <span class='kw'>==</span> <span class='fl'>1</span>)
<span class='no'>d.train</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='no'>d</span>, <span class='no'>i</span> <span class='kw'>==</span> <span class='fl'>2</span>)

<span class='co'>## Model formula</span>
<span class='no'>f</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(
  <span class='no'>num</span> ~ <span class='fu'>s</span>(<span class='no'>x1</span>) + <span class='fu'>s</span>(<span class='no'>x2</span>) + <span class='fu'>s</span>(<span class='no'>x3</span>),
  <span class='no'>sigma</span> ~ <span class='fu'>s</span>(<span class='no'>x1</span>) + <span class='fu'>s</span>(<span class='no'>x2</span>) + <span class='fu'>s</span>(<span class='no'>x3</span>)
)

<span class='co'>## Create model frame for out-of-sample selection.</span>
<span class='no'>sm</span> <span class='kw'>&lt;-</span> <span class='fu'>boost.frame</span>(<span class='no'>f</span>, <span class='kw'>train</span> <span class='kw'>=</span> <span class='no'>d.train</span>, <span class='kw'>test</span> <span class='kw'>=</span> <span class='no'>d.test</span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"gaussian"</span>)

<span class='co'>## Out-of-sample selection function.</span>
<span class='no'>sfun</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>parameters</span>) {
  <span class='no'>sm</span>$<span class='no'>parameters</span> <span class='kw'>&lt;-</span> <span class='no'>parameters</span>
  <span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/predict'>predict</a></span>(<span class='no'>sm</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"parameter"</span>)
  -<span class='fl'>1</span> * <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sum'>sum</a></span>(<span class='no'>sm</span>$<span class='no'>family</span>$<span class='fu'>d</span>(<span class='no'>d.test</span>$<span class='no'>num</span>, <span class='no'>p</span>, <span class='kw'>log</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))
}

<span class='co'>## Start boosting with out-of-sample negative</span>
<span class='co'>## log-likelihood selection of model terms.</span>
<span class='no'>b</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='bamlss.html'>bamlss</a></span>(<span class='no'>f</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>d.train</span>, <span class='kw'>sampler</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>optimizer</span> <span class='kw'>=</span> <span class='no'>boost</span>,
  <span class='kw'>selectfun</span> <span class='kw'>=</span> <span class='no'>sfun</span>, <span class='kw'>always</span> <span class='kw'>=</span> <span class='st'>"best"</span>)

<span class='co'>## Plot curve of negative out-of-sample log-likelihood.</span>
<span class='fu'>boost.plot</span>(<span class='no'>b</span>, <span class='kw'>which</span> <span class='kw'>=</span> <span class='st'>"user"</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#warnings">WARNINGS</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Nikolaus Umlauf, Nadja Klein, Achim Zeileis, Thorsten Simon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

